<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title></title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="css/athigaram.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  </head>
  <body>


  <header>
    <div class="container-fluid">
      <div class="row">
        <div class="col"></div>
        <div class="col"><h1 id="athi" class="text-nowrap"></h1></div>
        <div class="col"></div>
      </div>
    </div>
  </header>

  <nav class="navbar navbar-toggleable-xl navbar-light navcustom">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navContent" aria-controls="navContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="#"></a>

    <div class="collapse navbar-collapse" id="navContent">
    <ul class="navbar-nav mr-auto">
        <li><a class="nav-link nav-arrow" href="index.html"><i class="fa fa-arrow-left " aria-hidden="true"></i> Back</a></li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa fa-share-alt" aria-hidden="true"></i> <span></span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa fa-github" aria-hidden="true"></i> <span></span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa fa-info-circle" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa fa-bug" aria-hidden="true"></i></a>
        </li>
      </ul>
    </div>
  </nav>

  <section>
  <div class="container">
    <div class="row" id="index">
      <div class="col-12">
        <div class="row">
          <div id="idpaal" class="col-6 text-right"><strong>பால்: </strong></div>
          <div id="idiyal" class="col-6 text-left"><strong>இயல்: </strong></div>
        </div>
      </div>
      <!-- <div>FIRST PAAL</div> -->

    </div>
  </div>
    
  </section>

  <footer>
    <div class="container">
      <div class="row">
        
      </div>
    </div>
  </footer>
    
    

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script type='application/javascript' src='js/fastclick.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

    <script type="text/javascript">
    //attach fastclick to body
    if ('addEventListener' in document) {
      document.addEventListener('DOMContentLoaded', function() {
        FastClick.attach(document.body);
      }, false);
    }
    </script>

    <script type="text/javascript">
    var h="",i="",j="",stk="",enk="";
    window.onload = function () {
        var url = document.location.href,
            params = url.split('?')[1].split('&'),
            data = {}, tmp;
        for (var i = 0, l = params.length; i < l; i++) {
             tmp = params[i].split('=');
             data[tmp[0]] = tmp[1];
        }
        h = data.h;
        i = data.i;
        j = data.j;
        stk = data.stk;
        enk = data.enk;
    

      var index = document.getElementById('index');

      var requestURL = 'db/thirukkural.json';
      var request = new XMLHttpRequest();
      request.open('GET', requestURL);
      request.responseType = 'json';
      request.send();

      var requestURL2 = 'db/detail.json';
      var request2 = new XMLHttpRequest();
      request2.open('GET', requestURL2    );
      request2.responseType = 'json';
      request2.send();

      request2.onload = function() {
        var details2 = request2.response;
        getKuralRange(details2);
      }

      request.onload = function() {
        var details = request.response;
        getKural(details);
      }

      function getKuralRange(jsonObj) {
        // var paal = jsonObj[0].section.detail;
        
        var id_head = document.getElementById("athi");
        var id_paal = document.getElementById("idpaal");
        var id_iyal = document.getElementById("idiyal");
        // var neww = "";
          
        // Set its contents:
        id_head.appendChild(document.createTextNode(jsonObj[0].section.detail[h].chapterGroup.detail[i].chapters.detail[j].name));
        id_paal.appendChild(document.createTextNode(jsonObj[0].section.detail[h].name));
        id_iyal.appendChild(document.createTextNode(jsonObj[0].section.detail[h].chapterGroup.detail[i].name));



        // Add it to the list:
        // index.appendChild(list);
      }

      function getKural(jsonObj){
        for (var kural = stk-1; kural < enk; kural++) {
        var card = document.createElement('div');
            card.setAttribute("class","card col-12 ml-auto mr-auto mb-4");
        var cblock = document.createElement('div');
            cblock.setAttribute("class","card-block");
        var col_left = document.createElement('div');
            col_left.setAttribute("class","col_border col-sm-12 col-md-6 col-lg-6 col-xl-6 no-gutters");
        var col_right = document.createElement('div');
            col_right.setAttribute("class","col-sm-12 col-md-6 col-lg-6 col-xl-6 pull-right");
        var title = document.createElement('h4');
            title.setAttribute("class","card-title text-center");
        var row = document.createElement('div');
            row.setAttribute("class","row");
        var kural1 = document.createElement('p');
            kural1.setAttribute("class","card-text kural");
        var kural2 = document.createElement('p');
            kural2.setAttribute("class","card-text kural");
        var kural1_lit = document.createElement('small');
            kural1_lit.setAttribute("class","text-muted translit");
        var kural2_lit = document.createElement('small');
            kural2_lit.setAttribute("class","translit text-muted mb-4");
        var trans_block = document.createElement('div');
            trans_block.setAttribute("class","trans_block");
        var eng = document.createElement('p');
            eng.setAttribute("class","card-text");
        var eng_n = document.createElement('strong');
            eng_n.setAttribute("class","d-block");
        var mv = document.createElement('p');
            mv.setAttribute("class","card-text text-justify");
        var mv_n = document.createElement('strong');
            mv_n.setAttribute("class","");
        var sp = document.createElement('p');
            sp.setAttribute("class","card-text text-justify");
        var sp_n = document.createElement('strong');
            sp_n.setAttribute("class","");
        var mk = document.createElement('p');
            mk.setAttribute("class","card-text text-justify");
        var mk_n = document.createElement('strong');
            mk_n.setAttribute("class","");


        
        title.appendChild(document.createTextNode(jsonObj.kural[kural].Number));
        kural1.appendChild(document.createTextNode(jsonObj.kural[kural].Line1));
        kural2.appendChild(document.createTextNode(jsonObj.kural[kural].Line2));
        kural1_lit.appendChild(document.createTextNode(jsonObj.kural[kural].transliteration1));
        kural2_lit.appendChild(document.createTextNode(jsonObj.kural[kural].transliteration2));
        eng_n.appendChild(document.createTextNode("English: "));
        eng.appendChild(eng_n);
        eng.appendChild(document.createTextNode(jsonObj.kural[kural].Translation));
        trans_block.appendChild(eng);

        
        mv_n.appendChild(document.createTextNode("மு.வ உரை: "));
        mv.appendChild(mv_n);
        mv.appendChild(document.createTextNode(jsonObj.kural[kural].mv));
        
        sp_n.appendChild(document.createTextNode("சாலமன் பாப்பையா உரை: "));
        sp.appendChild(sp_n);
        sp.appendChild(document.createTextNode(jsonObj.kural[kural].sp));

        mk_n.appendChild(document.createTextNode("கலைஞர் உரை: "));
        mk.appendChild(mk_n);
        mk.appendChild(document.createTextNode(jsonObj.kural[kural].mk));

        cblock.appendChild(title);
        col_left.appendChild(kural1);
        col_left.appendChild(kural1_lit);
        col_left.appendChild(kural2);
        col_left.appendChild(kural2_lit);
        col_left.appendChild(trans_block);
        row.appendChild(col_left);

        col_right.appendChild(mv);
        col_right.appendChild(sp);
        col_right.appendChild(mk);

        row.appendChild(col_right);

        cblock.appendChild(row);
        card.appendChild(cblock);
        index.appendChild(card);
      }
      }

      }
    </script>
    <script type="text/javascript">
      $(function(){
        $('[data-toggle="tooltip"]').tooltip({html: true});
      });
    </script>
  </body>
</html>